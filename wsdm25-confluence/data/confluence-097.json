{
    "id": "confluence-097",
    "title": "Working - Version 6 and Later",
    "url": "https://openxt.atlassian.net/wiki/spaces/DC/pages/24707083/Working+-+Version+6+and+Later",
    "content": "<p>Owned by Ross Philipson\nLast updated: Mar 02, 2016 by Jed\n\n</p><ac:structured-macro ac:macro-id=\"e51264a6-6cf2-48c6-ab9c-c4e2c07469d9\" ac:name=\"info\" ac:schema-version=\"1\"><ac:parameter ac:name=\"icon\">None</ac:parameter><ac:rich-text-body><p><ac:image ac:width=\"80\"><ri:attachment ri:filename=\"cc-by.png\"></ri:attachment></ac:image></p><p>Copyright 2016 by Assured Information Security, Inc. Created by Jean-Edouard Lejosne &lt;lejosnej@<a href=\"http://ainfosec.com/\">ainfosec.com</a>&gt;. This work is licensed under the Creative Commons Attribution 4.0 International License. To view a copy of this license, visit <a class=\"external-link\" href=\"http://creativecommons.org/licenses/by/4.0/\" rel=\"nofollow\">http://creativecommons.org/licenses/by/4.0/</a>.</p></ac:rich-text-body></ac:structured-macro><h2>Development</h2><p>You can ssh to any running container to work in it (<code>sudo lxc-start -n &lt;container&gt;</code> to start it)</p><p>Just run:</p><ul><li><code>IP_C=$(( 150 + UID % 100 ))</code></li><li><code>ssh -i ssh-key/openxt build@192.168.${IP_C}.101    # 101 for oe, 102 for debian and 103 for centos<br/></code></li></ul><p>This should let you it without a password.</p><p><strong>Note:</strong> ssh-ing as root is disabled, but root doesn't have a password. To login as root, either log in with the build user and <code>sudo -i</code>, or <code>lxc-attach -n &lt;container&gt;</code> as root. At this point, you may set a root password using <code>passwd</code>.</p><h2>Creating new containers</h2><p>You may want to create a new container, to build OpenXT 5 for example.</p><p>If you do so, here's how to attach it to the user-specific network that setup.sh created.</p><p>Here's how to do it (as root), assuming the name of the container is \"openxt-custom\" (replace &lt;username&gt; by the username). Also note that &lt;ip_c&gt; is the same value as the variable IP_C defined above, based on the user UID:</p><ul style=\"list-style-type: square;\"><li>Edit /etc/libvirt/qemu/networks/openxt.xml and add a line for the new container, like:<br/><code>&lt;host mac=\"<span style=\"color: rgb(24,54,145);\">00:FF:AA:42</span>:&lt;ip_c-150&gt;:04\" name=\"openxt-custom\" ip=\"192.168.&lt;ip_c&gt;.104\" /&gt;</code></li><li><span>Contigure the container itself:</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">cat &gt;&gt; /home/lxc/openxt-custom/config &lt;&lt;EOF</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">lxc.network.type = veth</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">lxc.network.flags = up</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">lxc.network.link = &lt;username&gt;br0</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">lxc.network.hwaddr = </span><span style=\"color: rgb(24,54,145);\">00:FF:AA:42</span><span style=\"font-family: monospace;line-height: 1.42857;\">:<span>&lt;ip_c-150&gt;</span></span><span style=\"font-family: monospace;line-height: 1.42857;\">:04</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">lxc.network.ipv4 = 0.0.0.0/24</span><br/><span style=\"font-family: monospace;line-height: 1.42857;\">EOF</span></li><li><span style=\"font-family: monospace;line-height: 1.42857;\">If the container is Debian Squeeze, you need to fix the network, here how I do it (from inside the container):</span><br/><code><span style=\"font-family: monospace;line-height: 1.42857;\"><span>sed -i </span><span class=\"pl-s\" style=\"color: rgb(24,54,145);\"><span class=\"pl-pds\">'</span>/^start)$/a        mkdir -p /dev/shm/network/<span class=\"pl-pds\">'</span></span><span> /etc/init.d/networking</span></span></code></li></ul><p> </p><p><strong>TODO MORE TO COME....</strong></p>",
    "date": "2024-11-15",
    "disclaimer": "Users of this benchmark dataset are advised to check Atlassian’s official documentation for the most current information.",
    "space": "DC"
}