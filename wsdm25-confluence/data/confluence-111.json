{
    "id": "confluence-111",
    "title": "Section 4:  VM Installation and Configuration",
    "url": "https://openxt.atlassian.net/wiki/spaces/TEST/pages/7864335/Section+4:++VM+Installation+and+Configuration",
    "content": "<p>Owned by Carl Weissler\nLast updated: Aug 03, 2015 by Carl Weissler\n\n</p><div><strong>NOTE</strong>:  During the steps below and within the VMs, test the mouse, touchscreen, touchpad, pen (if applicable) and record any functionality issues.</div><p>4.1)  Successful creation of VMs from DVD.</p><p style=\"margin-left: 30.0px;\">a)  Power up the system.  At the OpenXT main screen, select either the large<strong> Install VM</strong> in the middle of the screen or the<strong> Install VM</strong> icon in the top left corner.</p><p style=\"margin-left: 30.0px;\">b)  In the <strong>Create local VM</strong> window, type in a VM name.</p><p style=\"margin-left: 30.0px;\">c)  Use the drop-down to select the appropriate template.</p><p style=\"margin-left: 30.0px;\">d)  Type a description in the <strong>Description</strong> field.</p><p style=\"margin-left: 30.0px;\">e)  Click <strong>Next</strong> and  select an icon.</p><p style=\"margin-left: 30.0px;\">f)  Click <strong>Next</strong> and enter values for the <strong>Memory</strong> and <strong>vCPU</strong> (or keep the default).</p><p style=\"margin-left: 30.0px;\">g)  Click <strong>Next</strong> and keep the default for the <strong>Virtual Disk Size</strong> and the<strong> Disk Encryption</strong> (AES-256).</p><p style=\"margin-left: 30.0px;\">h)  Select the appropriate <strong>Wired Network</strong>.  Click <strong>Next</strong>.</p><p style=\"margin-left: 30.0px;\">i)  Insert an installation disk (Windows 32 or 64 bit) and ensure <strong>CD-ROM</strong> is selected.</p><p style=\"margin-left: 30.0px;\">j)  Click <strong>Finish</strong> to start the installation.</p><p style=\"margin-left: 30.0px;\">k)  Complete the installation.</p><p style=\"margin-left: 30.0px;\">l)  Repeat the steps above to create a second Windows VM (if the first VM is 32 bit, use a 64 bit Windows install disk for the second VM).</p><p style=\"margin-left: 60.0px;\">i)  For the second VM, do <strong>NOT</strong> use Disk Encryption and use a different network (if applicable).</p><p style=\"margin-left: 30.0px;\"> </p><p>4.2)  Successful installation of XenClient Tools (32 &amp; 64 bit).</p><p><strong>NOTE</strong>:  The XenClient Tools should be installed on both 32 and 64 bit versions of Windows.</p><p style=\"margin-left: 30.0px;\">a)  After successful installation of a VM, start the VM.</p><p style=\"margin-left: 30.0px;\">b)  In the Windows VM, Open up <strong>Computer</strong> (<strong>Start --&gt; Computer</strong>).</p><p style=\"margin-left: 30.0px;\">c)  A virtual CD drive should have <strong>OpenXT-Tools</strong>.  Double click on it.</p><p style=\"margin-left: 30.0px;\">d)  Double-click on the <strong>Windows</strong> folder and then double-click on <strong>Setup.exe</strong>.</p><p style=\"margin-left: 30.0px;\">e)  Accept all licenses and if required, install .NET 4.0.</p><p style=\"margin-left: 30.0px;\">f)  Restart and login to the VM as required.</p><p style=\"margin-left: 30.0px;\">g)  Install device drivers as it prompts you (e.g., mice, storage controllers, etc...).</p><p style=\"margin-left: 30.0px;\">NOTE:  On 64 bit Windows systems, the drivers will install; however, upon reboot, it will reject the self-signed drivers that come with the OpenXT Tools and will uninstall them.  </p><p style=\"margin-left: 30.0px;\">To get past this issue, you can either acquire an officially signed copy  of the OpenXT Tools or when rebooting, press <strong>F8</strong> to access the boot menu.  From the menu, select </p><p style=\"margin-left: 30.0px;\">\"<strong>Disable driver signature enforcement</strong>\" (this will be required during every reboot).</p><p style=\"margin-left: 30.0px;\">h)  Restart the VM again as required.</p><p style=\"margin-left: 30.0px;\">i)  In a Windows system, a small <strong>OpenXT Plugin icon</strong> should appear in the system tray.</p><p style=\"margin-left: 30.0px;\"> </p><p>4.3)  Verify functionality/stability of changing number of virtual CPUs.</p><p style=\"margin-left: 30.0px;\">a)  Shut down the VMs.</p><p style=\"margin-left: 30.0px;\">b)  On the OpenXT main screen, hover below a VM icon and select <strong>Details</strong>.</p><p style=\"margin-left: 30.0px;\">c)  Click on <strong>Hardware</strong> on the left hand side.</p><p style=\"margin-left: 30.0px;\">d)  Change the <strong>vCPU</strong> to either <strong>more or less</strong> than the original value.</p><p style=\"margin-left: 30.0px;\">e)  Click <strong>Save</strong> and then <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">f)  Start the VM.</p><p style=\"margin-left: 30.0px;\">g)  Login to the VM. </p><p style=\"margin-left: 30.0px;\">h)  Open and use multiple applications.</p><p style=\"margin-left: 30.0px;\">i)  Note any error windows or other issues that arise.</p><p style=\"margin-left: 30.0px;\">j)  Shutdown the VM.</p><p style=\"margin-left: 30.0px;\">k)  Use the steps above to return the <strong>vCPU</strong> setting to its original state.</p><p style=\"margin-left: 30.0px;\"> </p><p>4.4)  Verify functionality/stability of changing memory value.</p><p style=\"margin-left: 30.0px;\">a)  Ensure the VMs are shut down.</p><p style=\"margin-left: 30.0px;\">b)  On the OpenXT main screen, hover below a VM icon and select <strong>Details</strong>.</p><p style=\"margin-left: 30.0px;\">c)  Click on <strong>Hardware</strong> on the left hand side.</p><p style=\"margin-left: 30.0px;\">d)  Change the <strong>Memory </strong>to <strong>more</strong> than the original value by at least a GB.</p><p style=\"margin-left: 30.0px;\">e)  Click <strong>Save</strong> and then <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">f)  Start the VM.</p><p style=\"margin-left: 30.0px;\">g)  Login to the VM. </p><p style=\"margin-left: 30.0px;\">h)  Open and use multiple applications.</p><p style=\"margin-left: 30.0px;\">i)  Note/record any error windows or other issues that arise.</p><p style=\"margin-left: 30.0px;\">j)  Shutdown the VM.</p><p style=\"margin-left: 30.0px;\">k)  Use the steps above to return the <strong>Memory</strong> setting to its original state.</p><p style=\"margin-left: 30.0px;\"> </p><p>4.5)  Verify the <strong>Info</strong> button information.</p><p style=\"margin-left: 30.0px;\">a)  <strong>Software</strong> Tab:  Verify the OpenXT Version/Build number and the Tools CD version.</p><p style=\"margin-left: 30.0px;\">b)  <strong>Hardware</strong> Tab:  Verify the following is correct:</p><p style=\"margin-left: 60.0px;\">i)  Vendor</p><p style=\"margin-left: 60.0px;\">ii)  Model</p><p style=\"margin-left: 60.0px;\">iii)  BIOS Revision</p><p style=\"margin-left: 60.0px;\">iv)  Total Physical Memory</p><p style=\"margin-left: 60.0px;\">v)  Total Disk Space</p><p style=\"margin-left: 60.0px;\">vi)  Physical CPU Model</p><p style=\"margin-left: 60.0px;\">vii)  Physical GPU Model (should list all graphics cards in the system)</p><p style=\"margin-left: 30.0px;\">c)  <strong>Networking</strong> Tab:  Verify the Wired (onboard) and Wireless (if applicable) Network Interface Cards (NIC) are listed.</p><p> </p><p> </p><p><u><strong>Peripherals/Misc</strong></u></p><p><strong>NOTE</strong>:  Ensure OpenXT Tools have been installed on all VMs.</p><p>4.6)  Verify removal/addition of a Network Interface Card</p><p style=\"margin-left: 30.0px;\">a)  On the OpenXT main screen, click on the <strong>Network</strong> icon in the top right of the screen.</p><p style=\"margin-left: 30.0px;\">b)  Select <strong>Connection Information</strong>.</p><p style=\"margin-left: 30.0px;\">c)  Note/record the <strong>MAC address</strong> of the add-on NIC (should know by IP address).  Press <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">d)  Select <strong>Details</strong> on the VM that is associated with the add-on NIC.</p><p style=\"margin-left: 30.0px;\">e)  On the left menu, click on <strong>Networks</strong>.</p><p style=\"margin-left: 30.0px;\">f)  Note/record the <strong>Network</strong> (e.g., /wired/1/bridged).</p><p style=\"margin-left: 30.0px;\">g)  Verify what MAC address is associated to what Network (/wired/?/bridged).</p><p style=\"margin-left: 60.0px;\">i)  Press<strong> Ctrl-Shift-T</strong> to open a terminal.</p><p style=\"margin-left: 60.0px;\">ii)  Enter the correct password.</p><p style=\"margin-left: 60.0px;\">iii)  Type <strong>nr</strong> and enter the correct password.</p><p style=\"margin-left: 60.0px;\">iv)  Type <strong>cat /config/db</strong> and press <strong>enter</strong>.</p><p style=\"margin-left: 60.0px;\">v)  Look for the <strong>wired</strong> subsection and note the <strong>number</strong> at the beginning that correlates to the MAC address.</p><p style=\"margin-left: 60.0px;\"><strong>NOTE</strong>:  The number is the \"<strong>?</strong>\" in the Network (/wired/?/bridged).</p><p style=\"margin-left: 30.0px;\">h)  Shut down OpenXT.</p><p style=\"margin-left: 30.0px;\">i)  Remove the add-on NIC and replace it with another.</p><p style=\"margin-left: 30.0px;\">j)  Turn on the OpenXT system.</p><p style=\"margin-left: 30.0px;\">k)  At the OpenXT main screen, click on the <strong>Network</strong> icon in the top right of the screen.</p><p style=\"margin-left: 30.0px;\">l)  Select <strong>Connection Information</strong>.</p><p style=\"margin-left: 30.0px;\">m)  Verify that the add-on NIC has a <strong>different</strong> MAC address.  Press <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">n)  Verify what the <strong>new Network</strong> is, that is associated with the <strong>new MAC address</strong>:</p><p style=\"margin-left: 60.0px;\">i)  Press <strong>Ctrl-Shift-T</strong> to open a terminal.</p><p style=\"margin-left: 60.0px;\">ii)  Enter the correct password.</p><p style=\"margin-left: 60.0px;\">iii)  Type <strong>nr</strong> and enter the correct password.</p><p style=\"margin-left: 60.0px;\">iv)  Type <strong>cat /config/db</strong> and press <strong>enter</strong>.</p><p style=\"margin-left: 60.0px;\">v)  Look for the <strong>wired</strong> subsection and note the <strong>number</strong> at the beginning that correlates to the new MAC address.</p><p style=\"margin-left: 60.0px;\"><strong>NOTE</strong>:  The number is the \"<strong>?</strong>\" in the Network (/wired/?/bridged).</p><p style=\"margin-left: 30.0px;\">o)  Start up and login to the VM with the add-on NIC.</p><p style=\"margin-left: 30.0px;\">p)  Networking should be down with the Windows VM (red X over the networking icon in the system tray).</p><p style=\"margin-left: 30.0px;\">q)  Shut down the VM.</p><p style=\"margin-left: 30.0px;\">r)  Select the <strong>Details</strong> on the VM that is associated with the add-on NIC.</p><p style=\"margin-left: 30.0px;\">s)  On the left menu, click on <strong>Networks</strong>.</p><p style=\"margin-left: 30.0px;\">t)  Confirm what network is being used (should be the same as before).</p><p style=\"margin-left: 30.0px;\">u)  Click on the <strong>Remove</strong> button and <strong>confirm</strong>.</p><p style=\"margin-left: 30.0px;\">v)  Click on the<strong> Add Network</strong> button and select the new network.  Click <strong>Add</strong>.</p><p style=\"margin-left: 60.0px;\"><strong>NOTE</strong>:  The original one that you removed will not be there.  The valid networks available will have changed</p><p style=\"margin-left: 60.0px;\">(a new one should have appeared such as /wired/2/bridged).</p><p style=\"margin-left: 30.0px;\">w)  Click <strong>Close</strong>.  Start and Login to the VM.</p><p style=\"margin-left: 30.0px;\">x)  Verify that networking is now working within the VM.</p><p> </p><p>4.7)  Add a USB device and test connectivity/functionality.</p><p style=\"margin-left: 30.0px;\">a)  Within a Windows VM, connect a USB device (other than a CD/DVD reader/writer).</p><p style=\"margin-left: 30.0px;\">b)  Click <strong>Start --&gt; Computer</strong>.</p><p style=\"margin-left: 30.0px;\">c)  The USB device should appear.</p><p style=\"margin-left: 30.0px;\">d)  Use the USB device (e.g., external HD:  access/copy/create/delete files).</p><p> </p><p>4.8)  Test USB device disabling.</p><p style=\"margin-left: 30.0px;\">a)  Press <strong>Ctrl-0</strong> to go to the OpenXT main screen.</p><p style=\"margin-left: 30.0px;\">b)  On the VM that you just verified USB functionality, click on <strong>Details</strong>.</p><p style=\"margin-left: 30.0px;\">c)  Select <strong>Advanced</strong> from the left menu.</p><p style=\"margin-left: 30.0px;\">d)  Scroll down until you find <strong>USB Access</strong> and use the<strong> drop-down</strong> to change the selection to <strong>Disabled</strong>.</p><p style=\"margin-left: 30.0px;\">e)  Click <strong>Save</strong> and <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">f)  Restart the VM.</p><p style=\"margin-left: 30.0px;\">g)  Login to the VM and ensure that the USB device is <strong>NOT</strong> available for use.</p><p style=\"margin-left: 30.0px;\">h)  Unplug the USB device and plug it in different ports (front and back) to see if it appears.</p><p style=\"margin-left: 30.0px;\">i)  Use the steps above to return the USB device access to its original state.</p><p> </p><p>4.9)  Test USB device pass-through capability (assignment). </p><p style=\"margin-left: 30.0px;\">a)  On another Windows VM, verify that you can access the USB device (may have to disconnect device, go into the VM and then reconnect).</p><p style=\"margin-left: 30.0px;\">b)  Press <strong>Ctrl-0</strong> to go to the OpenXT main screen.</p><p style=\"margin-left: 30.0px;\">c)  Click on the <strong>Devices</strong> icon in the top right of the screen.</p><p style=\"margin-left: 30.0px;\">d)  Verify that the USB device that you are testing with is listed under the <strong>USB Devices</strong> section.</p><p style=\"margin-left: 30.0px;\">e)  Click the drop-down under <strong>Assignments</strong> for your device and select the VM that you verified access.</p><p style=\"margin-left: 30.0px;\">f)  Click the checkbox next to <strong>Always use with this VM</strong>.  </p><p style=\"margin-left: 30.0px;\">g)  Click <strong>Save</strong> and then <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">h)  Open the VM that you assigned the device to and ensure that it is available and can be used.</p><p style=\"margin-left: 30.0px;\">i)  Open the other VM that does <strong>NOT</strong> have the device assigned and ensure that it is not available for use.</p><p style=\"margin-left: 30.0px;\">j)  Unplug the USB device and plug it back in.  Verify that it is still not available for use.</p><p style=\"margin-left: 30.0px;\">k)  Use the steps above to return the USB device access to its original state.</p><p> </p><p>4.10)  Test PCI pass-through on added Display Adapters.</p><p style=\"margin-left: 30.0px;\">a)  Ensure the VM you plan to pass-through a video card is powered off.</p><p style=\"margin-left: 30.0px;\">b)  From the OpenXT main screen, click <strong>Details</strong> under the VM and then select <strong>PCI Pass Through</strong> to access the PCI devices available to assign to a guest VM.</p><p style=\"margin-left: 30.0px;\">c)  Click the <strong>Add PCI Device</strong> button and select the video card you wish to pass through.</p><p style=\"margin-left: 30.0px;\">d)  Select <strong>Hardware</strong> from the left menu and use the drop-down to change the <strong>3D Graphics (experimental)</strong> field to <strong>Enabled</strong>.  Click <strong>OK</strong>.</p><p style=\"margin-left: 30.0px;\">e)  Click <strong>Save</strong> (Press <strong>Continue</strong> to the warning about it being experimental) and <strong>Close</strong>.</p><p style=\"margin-left: 30.0px;\">f)  Start up and login to the VM that you just passed through the video card.</p><p style=\"margin-left: 30.0px;\">g)  Install the correct drivers for the VM Operating System and video card (Task 4.11).</p><p style=\"margin-left: 60.0px;\">NOTE:  These directions are for installing the drivers for an ATI/AMD video card.  Directions for installing other video drivers may vary.</p><p style=\"margin-left: 60.0px;\">i)  Copy the ATI/AMD installer to the Desktop.</p><p style=\"margin-left: 60.0px;\">ii)  Double-click the installer and press <strong>Install</strong>.</p><p style=\"margin-left: 60.0px;\">iii)  The installer will extract the installation files to a specific directory (e.g., C:\\AMD).</p><p style=\"margin-left: 60.0px;\">iv)  At the Welcome screen, press <strong>Cancel</strong> and confirm.</p><p style=\"margin-left: 60.0px;\">v)  Browse to the directory that the files were unpacked (C:\\AMD\\AMD-Catalyst...).</p><p style=\"margin-left: 60.0px;\">vi)  Open the <strong>Config</strong> directory.</p><p style=\"margin-left: 60.0px;\">vii)  Open the<strong> InstallManager.cfg</strong> file with Notepad.</p><p style=\"margin-left: 60.0px;\">viii)  Near the bottom of the file, there is the entry, \"<strong>Workaroundinstall=false</strong>\".  Change the false to <strong>true</strong>.</p><p style=\"margin-left: 60.0px;\">ix)  <strong>Save</strong> the file and <strong>exit</strong> Notepad.</p><p style=\"margin-left: 60.0px;\">x)  Go up one directory and double-click the <strong>Setup.exe</strong> file.</p><p style=\"margin-left: 60.0px;\">xi)  Choose a <strong>Custom</strong> install and select <strong>only</strong> the Display drivers and the Installer Manager (others may be dimmed out since they are required).</p><p style=\"margin-left: 60.0px;\">xii)  Complete the installation and reboot.</p><p style=\"margin-left: 30.0px;\">h)  The VM should be displayed on the monitor attached to the passed through video card.</p><p> </p><p>4.11)  Ensure GPU drivers can be installed successfully (see Task 4.10).</p><p> </p><p>4.12)  Successfully run 3D Mark Benchmark application on passed through add-on Display Adapter (e.g.,, Heaven, Monster Hunter).</p><p style=\"margin-left: 30.0px;\">a)  Install a 3D Benchmark application on the VM that has the video card passed through (you may have to install MS Visual C++ 2010 Redistributable Package).</p><p style=\"margin-left: 30.0px;\">b)  Run the 3D Benchmark application.</p><p style=\"margin-left: 30.0px;\">c)  Note/record any errors (Depending on the video card, performance many vary).</p><p> </p><p>4.13)  Test common user application(s) that can utilize special hardware (e.g., Google Earth) on the VM that has the Video card passed through.</p><p style=\"margin-left: 30.0px;\">a)  Install and run application.</p><p style=\"margin-left: 30.0px;\">b)  Note/record any errors.</p><p style=\"margin-left: 30.0px;\"> </p><p>4.14)  Test additional Peripherals - Windows OS (e.g., CAC Reader, Webcam device, USB flash drive)</p><p> </p>",
    "date": "2024-11-15",
    "disclaimer": "Users of this benchmark dataset are advised to check Atlassian’s official documentation for the most current information.",
    "space": "TEST"
}